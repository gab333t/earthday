<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Outlet â€“ Community</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="community.css">
        <link rel="icon" type="image/x-icon" href="img/favicon_light.ico">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    </head>
    <body>

        <div id="imageModal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content" id="modalImg">
        </div>

        <h1>Community</h1>
        <hr>

        <div class="report-container">
            <img id="report" src="img/report_light.png" alt="Report Button" draggable="false">
            <h2>Make a Post</h2>
            &nbsp;&nbsp;&nbsp;&nbsp;
            <img id="filter" src="img/filter_light.png" alt="Filter Button" draggable="false">
            <h2>Filter</h2>
        </div>

        <br>
        <h2 id="subhead">Today's Posts</h2>

        <div class="box-container">

            <div class="box" id="user">
                <div class="box-content">
                    <img id="abbypfp" src="img/abbypfp_white.png" alt="Abby K.'s PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">Abby K.<br>Today at 9:32 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="yellow">Electricity</span><br><span class="bold" id="red">Seeking Help</span><br> 
                        </div>
                               
                        <div class="post-content">
                        <h5>
                            power outage in my neighborhood rn, does anyone have a backup generator? no one can see a thing out here<br>
                            <img class="post-image" src="img/abbyoutage.webp" alt="Picture of Abby's neighborhood; lights are completely out, and the image is heavily obscured. She is requesting a generator to temporarily restore power." draggable="false">   
                            <input type="text" id="reply" placeholder="Reply to Abby K..."> 
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

            <div class="box" id="user">
                <div class="box-content">
                    <img id="davidpfp" src="img/davidpfp_white.png" alt="David L.'s PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">david Lee<br>Today at 8:56 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="blue">Water</span><br><span class="bold" id="green">Offering Help</span><br>    
                        </div>

                        <div class="post-content">
                        <h5>
                            Got a few spare water bottles for anyone who needs them &nbsp;&nbsp;&nbsp; HMU<br>
                            <img class="post-image" src="img/davidoutage.jpeg" alt="Picture of David's case of water bottles, offering to provide them for the community." draggable="false">   
                            <input type="text" id="reply" placeholder="Reply to david Lee...">    
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

            <div class="box" id="user">
                <div class="box-content">
                    <img id="henrypfp" src="img/henrypfp_white.png" alt="Henry C.'s PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">Henry C.<br>Today at 8:19 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="yellow">Electricity</span><span class="bold" id="blue">Water</span><br><span class="bold" id="green">Offering Help</span>
                        </div>

                        <div class="post-content">
                        <h5>
                            For anyone who needs help with any plumbing or electrician work, ill be glad to assist :) Just got my toolkit in<br>
                            <img class="post-image" src="img/henryoutage1.jpg" alt="Picture of Henry's toolkit, and his supplies for plumbing and wireworking. He is offering repair to anyone who might need it.">
                            <input type="text" id="reply" placeholder="Reply to Henry C...">    
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

            <div class="box" id="user">
                <div class="box-content">
                    <img id="zhupfp" src="img/zhupfp_white.png" alt="C. Zhu's PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">C. Zhu<br>Today at 7:01 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="yellow">Electricity</span><br><span class="bold" id="green">Offering Help</span>
                        </div>

                        <div class="post-content">
                        <h5>
                            Hey would anyone like this portable stove? trying to get it off my hands and would like for it to go to good use<br>
                            <img class="post-image" src="img/zhuoutage.jpg" alt="C. Zhu's portable stove, with moderate wear and use. She is asking if anyone would like to take it off her hands for free.">
                            <input type="text" id="reply" placeholder="Reply to C. Zhu...">    
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

            
            <div class="box" id="user">
                <div class="box-content">
                    <img id="danielpfp" src="img/danielpfp_white.png" alt="daniel f's PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">daniel f<br>Today at 6:36 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="yellow">Electricity</span><br>
                        </div>

                        <div class="post-content">
                        <h5>
                            just wanna know if the faulty service in the area is just me?? haven't seen any news coverage about it<br>
                            <input type="text" id="reply" placeholder="Reply to daniel f...">    
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

            <div class="box" id="user">
                <div class="box-content">
                    <img id="fernandopfp" src="img/fernandopfp_white.png" alt="fernando G." draggable="false">
                    <h5>
                        <span class="bold" id="topbold">fernando G.<br>Today at 5:20 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="red">Seeking Help</span><br>
                        </div>

                        <div class="post-content">
                        <h5>
                            Anyone know of good community service groups to work for? I want to help out in some way<br>
                            <input type="text" id="reply" placeholder="Reply to fernando G...">    
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

        </div>

        <h2 id="subhead">Last 30 Days</h2>

        <div class="box-container">

            <div class="box" id="user">
                <div class="box-content">
                    <img id="gabepfp" src="img/gabepfp_white.png" alt="gabe t.'s PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">gabe t.<br>Yesterday at 9:32 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="yellow">Electricity</span><br><span class="bold" id="red">Seeking Help</span><br> 
                        </div>
                               
                        <div class="post-content">
                        <h5>
                            there was a power outage earlier while my pc was running and now it wont turn on, anyone know any fixes? or would i need to send it in for repair<br>
                            <img class="post-image" src="img/gabeoutage.webp" alt="Picture of Gabe's PC; it appears to have sustained internal damage after a power outage. He is inquiring about what needs to be done to power it back on." draggable="false">   
                            <input type="text" id="reply" placeholder="Reply to gabe t..."> 
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

            <div class="box" id="user">
                <div class="box-content">
                    <img id="ericapfp" src="img/ericapfp_white.png" alt="Erica C's PFP" draggable="false">
                    <h5>
                        <span class="bold" id="topbold">Erica C<br>Yesterday at 9:32 PM<br></span>
                        <div class="tag-container">
                            <span class="bold" id="yellow">Electricity</span><br><span class="bold" id="blue">Water</span><br> 
                        </div>
                               
                        <div class="post-content">
                        <h5>
                            The community fundraiser was a HUGE success over the weekend, and we had many great volunteers help out with water and electric damages. Keep up the great work! ðŸ«¶<br>
                            <img class="post-image" src="img/ericaoutage.jpg" alt="Erica celebrating the success of the community fundraiser over the weekend, raising money to aid in repairing damages caused by outages." draggable="false">   
                            <input type="text" id="reply" placeholder="Reply to Erica C..."> 
                        </h5>
                        </div>
                    </h5>
                </div>
            </div>

        </div>

        <br><br><br><br><br><br><br>

        <div class="navigation">
            <div class="logo">
                <img id="logo-icon" src="img/logo_white.png" alt="Outlet Logo" draggable="false">
                <h4 class="bold">Outlet</h4>
                <br><br>
            </div>
            <div class="nav-item">
                <a href="community.html">
                    <img id="comm" src="img/comm_white.png" alt="Community Icon" draggable="false">
                </a>
                <h4>Community</h4>
                <br>
            </div>
            <div class="nav-item" id="gap-left">
                <a href="map.html">
                    <img id="map" src="img/map_white.png" alt="Map Icon" draggable="false">
                </a>
                <h4>Map</h4>
                <br>
            </div>
            <div class="nav-item" id="gap-right">
                <a href="inbox.html">
                    <img id="notif" src="img/notif_white.png" alt="Notification Icon" draggable="false">
                </a>
                <h4>Inbox</h4>
                <br>
            </div>
            <div class="nav-item">
                <a href="settings.html">
                    <img id="settings" src="img/settings_white.png" alt="Settings Icon" draggable="false">
                </a>
                <h4>Settings</h4>
            </div>
        </div>

        <div class="alert-item">
            <a href="index.html">
                <img id="alert" src="img/alert_white.png" alt="Alert Icon" draggable="false">
            </a>
            <div class="alert-circle"></div>
            <div class="alert-bg"></div>
        </div>

    </body>

    <script>
        function setFavicon() {
            const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;
            const faviconPath = isDarkMode ? 'img/favicon_dark.ico' : 'img/favicon_light.ico';
    
            let favicon = document.querySelector("link[rel='icon']");
            if (!favicon) {
                favicon = document.createElement('link');
                favicon.rel = 'icon';
                document.head.appendChild(favicon);
            }
            favicon.href = faviconPath;
        }
    
        setFavicon();
    
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', setFavicon);
        
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImg");
        const closeBtn = document.getElementsByClassName("close")[0];
        
        const postImages = document.getElementsByClassName("post-image");
        for (let i = 0; i < postImages.length; i++) {
            postImages[i].addEventListener("click", function(e) {
                e.stopPropagation();
                modal.style.display = "flex";
                modalImg.src = this.src;
            });
        }
        
        closeBtn.addEventListener("click", function() {
            modal.style.display = "none";
        });
        
        modal.addEventListener("click", function(e) {
            if (e.target === modal) {
                modal.style.display = "none";
            }
        });
        
        document.addEventListener("keydown", function(e) {
            if (e.key === "Escape" && modal.style.display === "flex") {
                modal.style.display = "none";
            }
        });
    </script>
</html>